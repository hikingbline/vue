<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<title>天气案例_监视属性</title>
		<script type="text/javascript" src="../js/vue.js"></script>
	</head>
	<body>
		<div id="root">
			<h2>今天天气很{{info}}</h2>
			<button @click="changeWeather">切换天气</button>
		</div>
	</body>

	<script type="text/javascript">
		Vue.config.productionTip = false //阻止 vue 在启动时生成生产提示。
		
		const vm = new Vue({
			el:'#root',
			data:{
				isHot:true,
			},
			computed:{
				info(){
					return this.isHot ? '炎热' : '凉爽'
				}
			},
			methods: {
				changeWeather(){
					this.isHot = !this.isHot
				}
			},
			//很明确要监视哪个属性就写配置项watch
			//  watch:{
			// 	//没改就存在一个旧的值 undefined
			// 	isHot:{
			// 		//一上来就让它执行一次
			// 		immediate:true, //初始化时让handler调用一下
			// 		//handler什么时候调用？当isHot发生改变时。
			// 		//场景举例：测出温度差 发出提醒 "加衣服 脱衣服等场景"
			// 		handler(newValue,oldValue){
			// 			console.log('isHot被修改了',newValue,oldValue)
			// 		}
			// 	}
			// } 
		})

		//配置对象
		vm.$watch('isHot',{
			immediate:true, //初始化时让handler调用一下
			//handler什么时候调用？当isHot发生改变时。
			handler(newValue,oldValue){
				console.log('isHot被修改了',newValue,oldValue)
			}
		})
	</script>
</html>